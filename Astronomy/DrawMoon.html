<!DOCTYPE html>
<html>
  <head>
    <title>Moon Display</title>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        background-color: black;
      }
      #moonCanvas {
        border: 1px solid black;
        width: 100vh;
        height: 100vh;
        max-width: 100%;
        max-height: 100%;
        display: block;
        margin: 0 auto;
        background-color: black;
      }
      #buttons {
        text-align: center;
      }
    </style>
    <script src="MoonPhase.js"></script>
    <script src="drawMoon.js"></script>
  </head>
  <body>
    <canvas id="moonCanvas" width="400" height="400"></canvas>
    <div id="buttons">
      <button onclick="moonReset()">Today</button>
      <button onclick="moonSubtractDay()">One Day Past</button>    
      <button onclick="moonAddDay()">One Day Future</button>
    </div>
    <script>

const moonCanvas = document.getElementById('moonCanvas');
          const moonAge = 29.530588853;
          const moonctx = moonCanvas.getContext('2d');
          const centerX = moonCanvas.width / 2;
          const centerY = moonCanvas.height / 2;
          var moonOffset = 0;
    
          const age = getLunarAge();
          console.log("Moon age: "+age);
          drawMoon(age);

          function moonReset() {
            moonOffset = 0;
            drawMoon(age);
          }
    
          function moonSubtractDay() {
             moonOffset = moonOffset - 1;
             if ((age + moonOffset) < 0) {
              moonOffset = moonOffset + moonAge;
             }
             drawMoon(age + moonOffset);
             console.log(age + moonOffset);
          }
    
          function moonAddDay() {
            moonOffset = moonOffset + 1;
            if ((age + moonOffset) > moonAge) {
              moonOffset = moonOffset - moonAge;
            }
            drawMoon(age + moonOffset);
            console.log(age + moonOffset);
          }
    </script>
  </body>
</html>